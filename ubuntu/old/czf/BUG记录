

注意:  这个程序是建立在“和微信用户的连接是正常的” 这一条件下， 因为在ArmProtocol中，会使用到wxProtocol这个对象， 是通过一个字典映射找到的。  但是，当在真正使用的过程中，和用户的连接是很容易断开的！（用户把微信程序关了），也就是wxProtocol这一对象大概率会消失。。。 但这样的话，ArmProtocol对象当希望使用wxProtocol对象的时候，就会找不到它，此时就会发生错误。。。因此一定要解决以下两个问题： 
	
	问题一： 在ArmProtocol的操作中，不要使用wxProtocol这个对象，因为这个对象随时会消失。
	问题二： 但是，计费开始与结束都是Arm这一边要通知Wx那一边的，也就是说这时就需要用wxProtocol和微信通信，这就和问题一矛盾了。


	解决方法： 可以使用数据库来当作中间联系， ArmProtocol的操作中若需要用到wxProtocol中的用户信息，则全部通过数据库查询的方式去做。  而对于通信这个问题，可以通过再开一个数据库当作缓存来解决，使用类似懒惰标记的方法，让用户下次打开微信程序的时候，会自动获取上一次完成的订单情况， 具体做法还要再做斟酌。。有更好的方法可以无视我上面说的。 还要注意，顺便解决掉历史订单问题。


=====2017-12-12 18:10======

上述问题已解决。。。。
